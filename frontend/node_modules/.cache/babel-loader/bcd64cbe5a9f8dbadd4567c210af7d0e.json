{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport useUpdateEffect from '@restart/hooks/useUpdateEffect';\nimport useCommittedRef from '@restart/hooks/useCommittedRef';\nimport useTimeout from '@restart/hooks/useTimeout';\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useCallback, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport CarouselCaption from './CarouselCaption';\nimport CarouselItem from './CarouselItem';\nimport { map, forEach } from './ElementChildren';\nimport SafeAnchor from './SafeAnchor';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport transitionEndListener from './transitionEndListener';\nimport triggerBrowserReflow from './triggerBrowserReflow';\nimport TransitionWrapper from './TransitionWrapper';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar SWIPE_THRESHOLD = 40;\nvar defaultProps = {\n  slide: true,\n  fade: false,\n  controls: true,\n  indicators: true,\n  defaultActiveIndex: 0,\n  interval: 5000,\n  keyboard: true,\n  pause: 'hover',\n  wrap: true,\n  touch: true,\n  prevIcon: /*#__PURE__*/_jsx(\"span\", {\n    \"aria-hidden\": \"true\",\n    className: \"carousel-control-prev-icon\"\n  }),\n  prevLabel: 'Previous',\n  nextIcon: /*#__PURE__*/_jsx(\"span\", {\n    \"aria-hidden\": \"true\",\n    className: \"carousel-control-next-icon\"\n  }),\n  nextLabel: 'Next'\n};\n\nfunction isVisible(element) {\n  if (!element || !element.style || !element.parentNode || !element.parentNode.style) {\n    return false;\n  }\n\n  var elementStyle = getComputedStyle(element);\n  return elementStyle.display !== 'none' && elementStyle.visibility !== 'hidden' && getComputedStyle(element.parentNode).display !== 'none';\n}\n\nvar Carousel = /*#__PURE__*/React.forwardRef(function (uncontrolledProps, ref) {\n  var _useUncontrolled = useUncontrolled(uncontrolledProps, {\n    activeIndex: 'onSelect'\n  }),\n      _useUncontrolled$as = _useUncontrolled.as,\n      Component = _useUncontrolled$as === void 0 ? 'div' : _useUncontrolled$as,\n      bsPrefix = _useUncontrolled.bsPrefix,\n      slide = _useUncontrolled.slide,\n      fade = _useUncontrolled.fade,\n      controls = _useUncontrolled.controls,\n      indicators = _useUncontrolled.indicators,\n      activeIndex = _useUncontrolled.activeIndex,\n      onSelect = _useUncontrolled.onSelect,\n      onSlide = _useUncontrolled.onSlide,\n      onSlid = _useUncontrolled.onSlid,\n      interval = _useUncontrolled.interval,\n      keyboard = _useUncontrolled.keyboard,\n      onKeyDown = _useUncontrolled.onKeyDown,\n      pause = _useUncontrolled.pause,\n      onMouseOver = _useUncontrolled.onMouseOver,\n      onMouseOut = _useUncontrolled.onMouseOut,\n      wrap = _useUncontrolled.wrap,\n      touch = _useUncontrolled.touch,\n      onTouchStart = _useUncontrolled.onTouchStart,\n      onTouchMove = _useUncontrolled.onTouchMove,\n      onTouchEnd = _useUncontrolled.onTouchEnd,\n      prevIcon = _useUncontrolled.prevIcon,\n      prevLabel = _useUncontrolled.prevLabel,\n      nextIcon = _useUncontrolled.nextIcon,\n      nextLabel = _useUncontrolled.nextLabel,\n      variant = _useUncontrolled.variant,\n      className = _useUncontrolled.className,\n      children = _useUncontrolled.children,\n      props = _objectWithoutPropertiesLoose(_useUncontrolled, [\"as\", \"bsPrefix\", \"slide\", \"fade\", \"controls\", \"indicators\", \"activeIndex\", \"onSelect\", \"onSlide\", \"onSlid\", \"interval\", \"keyboard\", \"onKeyDown\", \"pause\", \"onMouseOver\", \"onMouseOut\", \"wrap\", \"touch\", \"onTouchStart\", \"onTouchMove\", \"onTouchEnd\", \"prevIcon\", \"prevLabel\", \"nextIcon\", \"nextLabel\", \"variant\", \"className\", \"children\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'carousel');\n  var nextDirectionRef = useRef(null);\n\n  var _useState = useState('next'),\n      direction = _useState[0],\n      setDirection = _useState[1];\n\n  var _useState2 = useState(false),\n      paused = _useState2[0],\n      setPaused = _useState2[1];\n\n  var _useState3 = useState(false),\n      isSliding = _useState3[0],\n      setIsSliding = _useState3[1];\n\n  var _useState4 = useState(activeIndex || 0),\n      renderedActiveIndex = _useState4[0],\n      setRenderedActiveIndex = _useState4[1];\n\n  if (!isSliding && activeIndex !== renderedActiveIndex) {\n    if (nextDirectionRef.current) {\n      setDirection(nextDirectionRef.current);\n    } else {\n      setDirection((activeIndex || 0) > renderedActiveIndex ? 'next' : 'prev');\n    }\n\n    if (slide) {\n      setIsSliding(true);\n    }\n\n    setRenderedActiveIndex(activeIndex || 0);\n  }\n\n  useEffect(function () {\n    if (nextDirectionRef.current) {\n      nextDirectionRef.current = null;\n    }\n  });\n  var numChildren = 0;\n  var activeChildInterval; // Iterate to grab all of the children's interval values\n  // (and count them, too)\n\n  forEach(children, function (child, index) {\n    ++numChildren;\n\n    if (index === activeIndex) {\n      activeChildInterval = child.props.interval;\n    }\n  });\n  var activeChildIntervalRef = useCommittedRef(activeChildInterval);\n  var prev = useCallback(function (event) {\n    if (isSliding) {\n      return;\n    }\n\n    var nextActiveIndex = renderedActiveIndex - 1;\n\n    if (nextActiveIndex < 0) {\n      if (!wrap) {\n        return;\n      }\n\n      nextActiveIndex = numChildren - 1;\n    }\n\n    nextDirectionRef.current = 'prev';\n    onSelect == null ? void 0 : onSelect(nextActiveIndex, event);\n  }, [isSliding, renderedActiveIndex, onSelect, wrap, numChildren]); // This is used in the setInterval, so it should not invalidate.\n\n  var next = useEventCallback(function (event) {\n    if (isSliding) {\n      return;\n    }\n\n    var nextActiveIndex = renderedActiveIndex + 1;\n\n    if (nextActiveIndex >= numChildren) {\n      if (!wrap) {\n        return;\n      }\n\n      nextActiveIndex = 0;\n    }\n\n    nextDirectionRef.current = 'next';\n    onSelect == null ? void 0 : onSelect(nextActiveIndex, event);\n  });\n  var elementRef = useRef();\n  useImperativeHandle(ref, function () {\n    return {\n      element: elementRef.current,\n      prev: prev,\n      next: next\n    };\n  }); // This is used in the setInterval, so it should not invalidate.\n\n  var nextWhenVisible = useEventCallback(function () {\n    if (!document.hidden && isVisible(elementRef.current)) {\n      next();\n    }\n  });\n  var slideDirection = direction === 'next' ? 'start' : 'end';\n  useUpdateEffect(function () {\n    if (slide) {\n      // These callbacks will be handled by the <Transition> callbacks.\n      return;\n    }\n\n    onSlide == null ? void 0 : onSlide(renderedActiveIndex, slideDirection);\n    onSlid == null ? void 0 : onSlid(renderedActiveIndex, slideDirection);\n  }, [renderedActiveIndex]);\n  var orderClassName = prefix + \"-item-\" + direction;\n  var directionalClassName = prefix + \"-item-\" + slideDirection;\n  var handleEnter = useCallback(function (node) {\n    triggerBrowserReflow(node);\n    onSlide == null ? void 0 : onSlide(renderedActiveIndex, slideDirection);\n  }, [onSlide, renderedActiveIndex, slideDirection]);\n  var handleEntered = useCallback(function () {\n    setIsSliding(false);\n    onSlid == null ? void 0 : onSlid(renderedActiveIndex, slideDirection);\n  }, [onSlid, renderedActiveIndex, slideDirection]);\n  var handleKeyDown = useCallback(function (event) {\n    if (keyboard && !/input|textarea/i.test(event.target.tagName)) {\n      switch (event.key) {\n        case 'ArrowLeft':\n          event.preventDefault();\n          prev(event);\n          return;\n\n        case 'ArrowRight':\n          event.preventDefault();\n          next(event);\n          return;\n\n        default:\n      }\n    }\n\n    onKeyDown == null ? void 0 : onKeyDown(event);\n  }, [keyboard, onKeyDown, prev, next]);\n  var handleMouseOver = useCallback(function (event) {\n    if (pause === 'hover') {\n      setPaused(true);\n    }\n\n    onMouseOver == null ? void 0 : onMouseOver(event);\n  }, [pause, onMouseOver]);\n  var handleMouseOut = useCallback(function (event) {\n    setPaused(false);\n    onMouseOut == null ? void 0 : onMouseOut(event);\n  }, [onMouseOut]);\n  var touchStartXRef = useRef(0);\n  var touchDeltaXRef = useRef(0);\n  var touchUnpauseTimeout = useTimeout();\n  var handleTouchStart = useCallback(function (event) {\n    touchStartXRef.current = event.touches[0].clientX;\n    touchDeltaXRef.current = 0;\n\n    if (pause === 'hover') {\n      setPaused(true);\n    }\n\n    onTouchStart == null ? void 0 : onTouchStart(event);\n  }, [pause, onTouchStart]);\n  var handleTouchMove = useCallback(function (event) {\n    if (event.touches && event.touches.length > 1) {\n      touchDeltaXRef.current = 0;\n    } else {\n      touchDeltaXRef.current = event.touches[0].clientX - touchStartXRef.current;\n    }\n\n    onTouchMove == null ? void 0 : onTouchMove(event);\n  }, [onTouchMove]);\n  var handleTouchEnd = useCallback(function (event) {\n    if (touch) {\n      var touchDeltaX = touchDeltaXRef.current;\n\n      if (Math.abs(touchDeltaX) > SWIPE_THRESHOLD) {\n        if (touchDeltaX > 0) {\n          prev(event);\n        } else {\n          next(event);\n        }\n      }\n    }\n\n    if (pause === 'hover') {\n      touchUnpauseTimeout.set(function () {\n        setPaused(false);\n      }, interval || undefined);\n    }\n\n    onTouchEnd == null ? void 0 : onTouchEnd(event);\n  }, [touch, pause, prev, next, touchUnpauseTimeout, interval, onTouchEnd]);\n  var shouldPlay = interval != null && !paused && !isSliding;\n  var intervalHandleRef = useRef();\n  useEffect(function () {\n    var _ref, _activeChildIntervalR;\n\n    if (!shouldPlay) {\n      return undefined;\n    }\n\n    intervalHandleRef.current = window.setInterval(document.visibilityState ? nextWhenVisible : next, (_ref = (_activeChildIntervalR = activeChildIntervalRef.current) != null ? _activeChildIntervalR : interval) != null ? _ref : undefined);\n    return function () {\n      if (intervalHandleRef.current !== null) {\n        clearInterval(intervalHandleRef.current);\n      }\n    };\n  }, [shouldPlay, next, activeChildIntervalRef, interval, nextWhenVisible]);\n  var indicatorOnClicks = useMemo(function () {\n    return indicators && Array.from({\n      length: numChildren\n    }, function (_, index) {\n      return function (event) {\n        onSelect == null ? void 0 : onSelect(index, event);\n      };\n    });\n  }, [indicators, numChildren, onSelect]);\n  return /*#__PURE__*/_jsxs(Component, _extends({\n    ref: elementRef\n  }, props, {\n    onKeyDown: handleKeyDown,\n    onMouseOver: handleMouseOver,\n    onMouseOut: handleMouseOut,\n    onTouchStart: handleTouchStart,\n    onTouchMove: handleTouchMove,\n    onTouchEnd: handleTouchEnd,\n    className: classNames(className, prefix, slide && 'slide', fade && prefix + \"-fade\", variant && prefix + \"-\" + variant),\n    children: [indicators && /*#__PURE__*/_jsx(\"ol\", {\n      className: prefix + \"-indicators\",\n      children: map(children, function (_child, index) {\n        return /*#__PURE__*/_jsx(\"li\", {\n          className: index === renderedActiveIndex ? 'active' : undefined,\n          onClick: indicatorOnClicks ? indicatorOnClicks[index] : undefined\n        }, index);\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: prefix + \"-inner\",\n      children: map(children, function (child, index) {\n        var isActive = index === renderedActiveIndex;\n        return slide ? /*#__PURE__*/_jsx(TransitionWrapper, {\n          in: isActive,\n          onEnter: isActive ? handleEnter : undefined,\n          onEntered: isActive ? handleEntered : undefined,\n          addEndListener: transitionEndListener,\n          children: function children(status, innerProps) {\n            return /*#__PURE__*/React.cloneElement(child, _extends({}, innerProps, {\n              className: classNames(child.props.className, isActive && status !== 'entered' && orderClassName, (status === 'entered' || status === 'exiting') && 'active', (status === 'entering' || status === 'exiting') && directionalClassName)\n            }));\n          }\n        }) : /*#__PURE__*/React.cloneElement(child, {\n          className: classNames(child.props.className, isActive && 'active')\n        });\n      })\n    }), controls && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [(wrap || activeIndex !== 0) && /*#__PURE__*/_jsxs(SafeAnchor, {\n        className: prefix + \"-control-prev\",\n        onClick: prev,\n        children: [prevIcon, prevLabel && /*#__PURE__*/_jsx(\"span\", {\n          className: \"visually-hidden\",\n          children: prevLabel\n        })]\n      }), (wrap || activeIndex !== numChildren - 1) && /*#__PURE__*/_jsxs(SafeAnchor, {\n        className: prefix + \"-control-next\",\n        onClick: next,\n        children: [nextIcon, nextLabel && /*#__PURE__*/_jsx(\"span\", {\n          className: \"visually-hidden\",\n          children: nextLabel\n        })]\n      })]\n    })]\n  }));\n});\nCarousel.displayName = 'Carousel';\nCarousel.defaultProps = defaultProps;\nexport default Object.assign(Carousel, {\n  Caption: CarouselCaption,\n  Item: CarouselItem\n});","map":{"version":3,"sources":["C:/Users/nazmulhasan/Desktop/Learning/React/tourist-app/node_modules/react-bootstrap/esm/Carousel.js"],"names":["_extends","_objectWithoutPropertiesLoose","useEventCallback","useUpdateEffect","useCommittedRef","useTimeout","classNames","React","useCallback","useEffect","useImperativeHandle","useMemo","useRef","useState","useUncontrolled","CarouselCaption","CarouselItem","map","forEach","SafeAnchor","useBootstrapPrefix","transitionEndListener","triggerBrowserReflow","TransitionWrapper","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SWIPE_THRESHOLD","defaultProps","slide","fade","controls","indicators","defaultActiveIndex","interval","keyboard","pause","wrap","touch","prevIcon","className","prevLabel","nextIcon","nextLabel","isVisible","element","style","parentNode","elementStyle","getComputedStyle","display","visibility","Carousel","forwardRef","uncontrolledProps","ref","_useUncontrolled","activeIndex","_useUncontrolled$as","as","Component","bsPrefix","onSelect","onSlide","onSlid","onKeyDown","onMouseOver","onMouseOut","onTouchStart","onTouchMove","onTouchEnd","variant","children","props","prefix","nextDirectionRef","_useState","direction","setDirection","_useState2","paused","setPaused","_useState3","isSliding","setIsSliding","_useState4","renderedActiveIndex","setRenderedActiveIndex","current","numChildren","activeChildInterval","child","index","activeChildIntervalRef","prev","event","nextActiveIndex","next","elementRef","nextWhenVisible","document","hidden","slideDirection","orderClassName","directionalClassName","handleEnter","node","handleEntered","handleKeyDown","test","target","tagName","key","preventDefault","handleMouseOver","handleMouseOut","touchStartXRef","touchDeltaXRef","touchUnpauseTimeout","handleTouchStart","touches","clientX","handleTouchMove","length","handleTouchEnd","touchDeltaX","Math","abs","set","undefined","shouldPlay","intervalHandleRef","_ref","_activeChildIntervalR","window","setInterval","visibilityState","clearInterval","indicatorOnClicks","Array","from","_","_child","onClick","isActive","in","onEnter","onEntered","addEndListener","status","innerProps","cloneElement","displayName","Object","assign","Caption","Item"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport useUpdateEffect from '@restart/hooks/useUpdateEffect';\nimport useCommittedRef from '@restart/hooks/useCommittedRef';\nimport useTimeout from '@restart/hooks/useTimeout';\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useCallback, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport CarouselCaption from './CarouselCaption';\nimport CarouselItem from './CarouselItem';\nimport { map, forEach } from './ElementChildren';\nimport SafeAnchor from './SafeAnchor';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport transitionEndListener from './transitionEndListener';\nimport triggerBrowserReflow from './triggerBrowserReflow';\nimport TransitionWrapper from './TransitionWrapper';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar SWIPE_THRESHOLD = 40;\nvar defaultProps = {\n  slide: true,\n  fade: false,\n  controls: true,\n  indicators: true,\n  defaultActiveIndex: 0,\n  interval: 5000,\n  keyboard: true,\n  pause: 'hover',\n  wrap: true,\n  touch: true,\n  prevIcon: /*#__PURE__*/_jsx(\"span\", {\n    \"aria-hidden\": \"true\",\n    className: \"carousel-control-prev-icon\"\n  }),\n  prevLabel: 'Previous',\n  nextIcon: /*#__PURE__*/_jsx(\"span\", {\n    \"aria-hidden\": \"true\",\n    className: \"carousel-control-next-icon\"\n  }),\n  nextLabel: 'Next'\n};\n\nfunction isVisible(element) {\n  if (!element || !element.style || !element.parentNode || !element.parentNode.style) {\n    return false;\n  }\n\n  var elementStyle = getComputedStyle(element);\n  return elementStyle.display !== 'none' && elementStyle.visibility !== 'hidden' && getComputedStyle(element.parentNode).display !== 'none';\n}\n\nvar Carousel = /*#__PURE__*/React.forwardRef(function (uncontrolledProps, ref) {\n  var _useUncontrolled = useUncontrolled(uncontrolledProps, {\n    activeIndex: 'onSelect'\n  }),\n      _useUncontrolled$as = _useUncontrolled.as,\n      Component = _useUncontrolled$as === void 0 ? 'div' : _useUncontrolled$as,\n      bsPrefix = _useUncontrolled.bsPrefix,\n      slide = _useUncontrolled.slide,\n      fade = _useUncontrolled.fade,\n      controls = _useUncontrolled.controls,\n      indicators = _useUncontrolled.indicators,\n      activeIndex = _useUncontrolled.activeIndex,\n      onSelect = _useUncontrolled.onSelect,\n      onSlide = _useUncontrolled.onSlide,\n      onSlid = _useUncontrolled.onSlid,\n      interval = _useUncontrolled.interval,\n      keyboard = _useUncontrolled.keyboard,\n      onKeyDown = _useUncontrolled.onKeyDown,\n      pause = _useUncontrolled.pause,\n      onMouseOver = _useUncontrolled.onMouseOver,\n      onMouseOut = _useUncontrolled.onMouseOut,\n      wrap = _useUncontrolled.wrap,\n      touch = _useUncontrolled.touch,\n      onTouchStart = _useUncontrolled.onTouchStart,\n      onTouchMove = _useUncontrolled.onTouchMove,\n      onTouchEnd = _useUncontrolled.onTouchEnd,\n      prevIcon = _useUncontrolled.prevIcon,\n      prevLabel = _useUncontrolled.prevLabel,\n      nextIcon = _useUncontrolled.nextIcon,\n      nextLabel = _useUncontrolled.nextLabel,\n      variant = _useUncontrolled.variant,\n      className = _useUncontrolled.className,\n      children = _useUncontrolled.children,\n      props = _objectWithoutPropertiesLoose(_useUncontrolled, [\"as\", \"bsPrefix\", \"slide\", \"fade\", \"controls\", \"indicators\", \"activeIndex\", \"onSelect\", \"onSlide\", \"onSlid\", \"interval\", \"keyboard\", \"onKeyDown\", \"pause\", \"onMouseOver\", \"onMouseOut\", \"wrap\", \"touch\", \"onTouchStart\", \"onTouchMove\", \"onTouchEnd\", \"prevIcon\", \"prevLabel\", \"nextIcon\", \"nextLabel\", \"variant\", \"className\", \"children\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'carousel');\n  var nextDirectionRef = useRef(null);\n\n  var _useState = useState('next'),\n      direction = _useState[0],\n      setDirection = _useState[1];\n\n  var _useState2 = useState(false),\n      paused = _useState2[0],\n      setPaused = _useState2[1];\n\n  var _useState3 = useState(false),\n      isSliding = _useState3[0],\n      setIsSliding = _useState3[1];\n\n  var _useState4 = useState(activeIndex || 0),\n      renderedActiveIndex = _useState4[0],\n      setRenderedActiveIndex = _useState4[1];\n\n  if (!isSliding && activeIndex !== renderedActiveIndex) {\n    if (nextDirectionRef.current) {\n      setDirection(nextDirectionRef.current);\n    } else {\n      setDirection((activeIndex || 0) > renderedActiveIndex ? 'next' : 'prev');\n    }\n\n    if (slide) {\n      setIsSliding(true);\n    }\n\n    setRenderedActiveIndex(activeIndex || 0);\n  }\n\n  useEffect(function () {\n    if (nextDirectionRef.current) {\n      nextDirectionRef.current = null;\n    }\n  });\n  var numChildren = 0;\n  var activeChildInterval; // Iterate to grab all of the children's interval values\n  // (and count them, too)\n\n  forEach(children, function (child, index) {\n    ++numChildren;\n\n    if (index === activeIndex) {\n      activeChildInterval = child.props.interval;\n    }\n  });\n  var activeChildIntervalRef = useCommittedRef(activeChildInterval);\n  var prev = useCallback(function (event) {\n    if (isSliding) {\n      return;\n    }\n\n    var nextActiveIndex = renderedActiveIndex - 1;\n\n    if (nextActiveIndex < 0) {\n      if (!wrap) {\n        return;\n      }\n\n      nextActiveIndex = numChildren - 1;\n    }\n\n    nextDirectionRef.current = 'prev';\n    onSelect == null ? void 0 : onSelect(nextActiveIndex, event);\n  }, [isSliding, renderedActiveIndex, onSelect, wrap, numChildren]); // This is used in the setInterval, so it should not invalidate.\n\n  var next = useEventCallback(function (event) {\n    if (isSliding) {\n      return;\n    }\n\n    var nextActiveIndex = renderedActiveIndex + 1;\n\n    if (nextActiveIndex >= numChildren) {\n      if (!wrap) {\n        return;\n      }\n\n      nextActiveIndex = 0;\n    }\n\n    nextDirectionRef.current = 'next';\n    onSelect == null ? void 0 : onSelect(nextActiveIndex, event);\n  });\n  var elementRef = useRef();\n  useImperativeHandle(ref, function () {\n    return {\n      element: elementRef.current,\n      prev: prev,\n      next: next\n    };\n  }); // This is used in the setInterval, so it should not invalidate.\n\n  var nextWhenVisible = useEventCallback(function () {\n    if (!document.hidden && isVisible(elementRef.current)) {\n      next();\n    }\n  });\n  var slideDirection = direction === 'next' ? 'start' : 'end';\n  useUpdateEffect(function () {\n    if (slide) {\n      // These callbacks will be handled by the <Transition> callbacks.\n      return;\n    }\n\n    onSlide == null ? void 0 : onSlide(renderedActiveIndex, slideDirection);\n    onSlid == null ? void 0 : onSlid(renderedActiveIndex, slideDirection);\n  }, [renderedActiveIndex]);\n  var orderClassName = prefix + \"-item-\" + direction;\n  var directionalClassName = prefix + \"-item-\" + slideDirection;\n  var handleEnter = useCallback(function (node) {\n    triggerBrowserReflow(node);\n    onSlide == null ? void 0 : onSlide(renderedActiveIndex, slideDirection);\n  }, [onSlide, renderedActiveIndex, slideDirection]);\n  var handleEntered = useCallback(function () {\n    setIsSliding(false);\n    onSlid == null ? void 0 : onSlid(renderedActiveIndex, slideDirection);\n  }, [onSlid, renderedActiveIndex, slideDirection]);\n  var handleKeyDown = useCallback(function (event) {\n    if (keyboard && !/input|textarea/i.test(event.target.tagName)) {\n      switch (event.key) {\n        case 'ArrowLeft':\n          event.preventDefault();\n          prev(event);\n          return;\n\n        case 'ArrowRight':\n          event.preventDefault();\n          next(event);\n          return;\n\n        default:\n      }\n    }\n\n    onKeyDown == null ? void 0 : onKeyDown(event);\n  }, [keyboard, onKeyDown, prev, next]);\n  var handleMouseOver = useCallback(function (event) {\n    if (pause === 'hover') {\n      setPaused(true);\n    }\n\n    onMouseOver == null ? void 0 : onMouseOver(event);\n  }, [pause, onMouseOver]);\n  var handleMouseOut = useCallback(function (event) {\n    setPaused(false);\n    onMouseOut == null ? void 0 : onMouseOut(event);\n  }, [onMouseOut]);\n  var touchStartXRef = useRef(0);\n  var touchDeltaXRef = useRef(0);\n  var touchUnpauseTimeout = useTimeout();\n  var handleTouchStart = useCallback(function (event) {\n    touchStartXRef.current = event.touches[0].clientX;\n    touchDeltaXRef.current = 0;\n\n    if (pause === 'hover') {\n      setPaused(true);\n    }\n\n    onTouchStart == null ? void 0 : onTouchStart(event);\n  }, [pause, onTouchStart]);\n  var handleTouchMove = useCallback(function (event) {\n    if (event.touches && event.touches.length > 1) {\n      touchDeltaXRef.current = 0;\n    } else {\n      touchDeltaXRef.current = event.touches[0].clientX - touchStartXRef.current;\n    }\n\n    onTouchMove == null ? void 0 : onTouchMove(event);\n  }, [onTouchMove]);\n  var handleTouchEnd = useCallback(function (event) {\n    if (touch) {\n      var touchDeltaX = touchDeltaXRef.current;\n\n      if (Math.abs(touchDeltaX) > SWIPE_THRESHOLD) {\n        if (touchDeltaX > 0) {\n          prev(event);\n        } else {\n          next(event);\n        }\n      }\n    }\n\n    if (pause === 'hover') {\n      touchUnpauseTimeout.set(function () {\n        setPaused(false);\n      }, interval || undefined);\n    }\n\n    onTouchEnd == null ? void 0 : onTouchEnd(event);\n  }, [touch, pause, prev, next, touchUnpauseTimeout, interval, onTouchEnd]);\n  var shouldPlay = interval != null && !paused && !isSliding;\n  var intervalHandleRef = useRef();\n  useEffect(function () {\n    var _ref, _activeChildIntervalR;\n\n    if (!shouldPlay) {\n      return undefined;\n    }\n\n    intervalHandleRef.current = window.setInterval(document.visibilityState ? nextWhenVisible : next, (_ref = (_activeChildIntervalR = activeChildIntervalRef.current) != null ? _activeChildIntervalR : interval) != null ? _ref : undefined);\n    return function () {\n      if (intervalHandleRef.current !== null) {\n        clearInterval(intervalHandleRef.current);\n      }\n    };\n  }, [shouldPlay, next, activeChildIntervalRef, interval, nextWhenVisible]);\n  var indicatorOnClicks = useMemo(function () {\n    return indicators && Array.from({\n      length: numChildren\n    }, function (_, index) {\n      return function (event) {\n        onSelect == null ? void 0 : onSelect(index, event);\n      };\n    });\n  }, [indicators, numChildren, onSelect]);\n  return /*#__PURE__*/_jsxs(Component, _extends({\n    ref: elementRef\n  }, props, {\n    onKeyDown: handleKeyDown,\n    onMouseOver: handleMouseOver,\n    onMouseOut: handleMouseOut,\n    onTouchStart: handleTouchStart,\n    onTouchMove: handleTouchMove,\n    onTouchEnd: handleTouchEnd,\n    className: classNames(className, prefix, slide && 'slide', fade && prefix + \"-fade\", variant && prefix + \"-\" + variant),\n    children: [indicators && /*#__PURE__*/_jsx(\"ol\", {\n      className: prefix + \"-indicators\",\n      children: map(children, function (_child, index) {\n        return /*#__PURE__*/_jsx(\"li\", {\n          className: index === renderedActiveIndex ? 'active' : undefined,\n          onClick: indicatorOnClicks ? indicatorOnClicks[index] : undefined\n        }, index);\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: prefix + \"-inner\",\n      children: map(children, function (child, index) {\n        var isActive = index === renderedActiveIndex;\n        return slide ? /*#__PURE__*/_jsx(TransitionWrapper, {\n          in: isActive,\n          onEnter: isActive ? handleEnter : undefined,\n          onEntered: isActive ? handleEntered : undefined,\n          addEndListener: transitionEndListener,\n          children: function children(status, innerProps) {\n            return /*#__PURE__*/React.cloneElement(child, _extends({}, innerProps, {\n              className: classNames(child.props.className, isActive && status !== 'entered' && orderClassName, (status === 'entered' || status === 'exiting') && 'active', (status === 'entering' || status === 'exiting') && directionalClassName)\n            }));\n          }\n        }) : /*#__PURE__*/React.cloneElement(child, {\n          className: classNames(child.props.className, isActive && 'active')\n        });\n      })\n    }), controls && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [(wrap || activeIndex !== 0) && /*#__PURE__*/_jsxs(SafeAnchor, {\n        className: prefix + \"-control-prev\",\n        onClick: prev,\n        children: [prevIcon, prevLabel && /*#__PURE__*/_jsx(\"span\", {\n          className: \"visually-hidden\",\n          children: prevLabel\n        })]\n      }), (wrap || activeIndex !== numChildren - 1) && /*#__PURE__*/_jsxs(SafeAnchor, {\n        className: prefix + \"-control-next\",\n        onClick: next,\n        children: [nextIcon, nextLabel && /*#__PURE__*/_jsx(\"span\", {\n          className: \"visually-hidden\",\n          children: nextLabel\n        })]\n      })]\n    })]\n  }));\n});\nCarousel.displayName = 'Carousel';\nCarousel.defaultProps = defaultProps;\nexport default Object.assign(Carousel, {\n  Caption: CarouselCaption,\n  Item: CarouselItem\n});"]},"metadata":{},"sourceType":"module"}