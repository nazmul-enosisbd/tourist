{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nazmulhasan\\\\Desktop\\\\Learning\\\\React\\\\tourist-app\\\\src\\\\components\\\\TouristApp.js\";\nimport React, { Component } from 'react';\nimport CreatePage from './CreatePage';\nimport ListPage from './ListPage';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass TouristPlace {\n  constructor(id, name, address, rating, type, picture) {\n    this.id = id;\n    this.name = name;\n    this.address = address;\n    this.rating = rating;\n    this.type = type;\n    this.picture = picture;\n  }\n\n  toString() {\n    return this.name;\n  }\n\n}\n\nclass TouristApp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toBase64 = file => new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onload = () => resolve(reader.result);\n\n      reader.onerror = error => reject(error);\n    });\n\n    this.state = {\n      inputs: {\n        name: null,\n        address: null,\n        rating: null,\n        type: \"beach\",\n        picture: null\n      },\n      typeList: [\"Beach\", \"Hills\", \"Fountain\", \"Landmark\"],\n      touristPlace: [],\n      id: 1\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleReset = this.handleReset.bind(this);\n    this.rowDeleteById = this.rowDeleteById.bind(this);\n  }\n\n  rowDeleteById(event) {\n    console.log(event.target.parentNode.parentNode);\n    const id = event.target.parentNode.parentNode.id;\n    console.log(id);\n    var new_list = this.state.touristPlace.filter(function (place) {\n      console.log(place.id !== id, place.id, id);\n      return place.id !== id;\n    });\n    console.log(new_list);\n    this.setState({ ...this.state,\n      touristPlace: new_list\n    });\n  }\n\n  handleReset(event) {\n    [\"type\", \"name\", \"address\", \"rating\"].map(id => document.getElementById(id).value = null);\n    document.getElementById('picture').value = null;\n    this.setState({ ...this.state,\n      inputs: { ...this.state.inputs,\n        name: null,\n        address: null,\n        rating: null,\n        type: null,\n        picture: null\n      }\n    });\n  }\n\n  async handleSubmit(event) {\n    const base_string = await this.toBase64(this.state.inputs.picture);\n    const tourist_place = new TouristPlace(this.state.id, this.state.inputs.name, this.state.inputs.address, this.state.inputs.rating, this.state.inputs.type, base_string);\n    var new_list = this.state.touristPlace.concat(tourist_place);\n    this.setState({ ...this.state,\n      touristPlace: new_list,\n      id: this.state.id + 1\n    });\n    this.handleReset(this);\n  }\n\n  handleInputChange(event) {\n    let {\n      id,\n      value\n    } = event.target;\n\n    if (id === 'picture') {\n      this.setState({ ...this.state,\n        inputs: { ...this.state.inputs,\n          picture: event.target.files[0]\n        }\n      });\n      return;\n    }\n\n    this.setState({ ...this.state,\n      inputs: { ...this.state.inputs,\n        [id]: value\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          children: /*#__PURE__*/_jsxDEV(ListPage, {\n            state: this.state,\n            rowDeleteById: this.rowDeleteById\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/create\",\n          children: /*#__PURE__*/_jsxDEV(CreatePage, {\n            state: this.state,\n            handleInputChange: this.handleInputChange,\n            handleSubmit: this.handleSubmit,\n            handleReset: this.handleReset\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default TouristApp;","map":{"version":3,"sources":["C:/Users/nazmulhasan/Desktop/Learning/React/tourist-app/src/components/TouristApp.js"],"names":["React","Component","CreatePage","ListPage","BrowserRouter","Router","Switch","Route","TouristPlace","constructor","id","name","address","rating","type","picture","toString","TouristApp","props","toBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","state","inputs","typeList","touristPlace","handleInputChange","bind","handleSubmit","handleReset","rowDeleteById","event","console","log","target","parentNode","new_list","filter","place","setState","map","document","getElementById","value","base_string","tourist_place","concat","files","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport CreatePage from './CreatePage';\r\nimport ListPage from './ListPage';\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route\r\n  } from \"react-router-dom\";\r\n\r\nclass TouristPlace {\r\n    constructor(id, name, address, rating, type, picture) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.address = address;\r\n        this.rating = rating;\r\n        this.type = type;\r\n        this.picture = picture;\r\n    }\r\n\r\n    toString() {\r\n        return this.name;\r\n    }\r\n}\r\n\r\nclass TouristApp extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state={\r\n            inputs: {\r\n                name: null,\r\n                address: null,\r\n                rating: null,\r\n                type: \"beach\",\r\n                picture: null,\r\n            },\r\n            typeList: [\"Beach\", \"Hills\", \"Fountain\", \"Landmark\"],\r\n            touristPlace: [],\r\n            id: 1\r\n        }\r\n\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleReset = this.handleReset.bind(this);\r\n        this.rowDeleteById = this.rowDeleteById.bind(this);\r\n    }\r\n\r\n    rowDeleteById(event) {\r\n        console.log(event.target.parentNode.parentNode);\r\n        const id = event.target.parentNode.parentNode.id;\r\n        console.log(id)\r\n\r\n        var new_list = this.state.touristPlace.filter(function(place) {\r\n            console.log(place.id !== id, place.id, id)\r\n            return place.id !== id;\r\n        });\r\n        console.log(new_list)\r\n        this.setState({\r\n            ...this.state,\r\n            touristPlace: new_list\r\n        })\r\n    }\r\n\r\n    handleReset(event) {\r\n        [ \"type\", \"name\", \"address\", \"rating\"].map( id =>\r\n            document.getElementById(id).value = null  \r\n        );\r\n        document.getElementById('picture').value = null;\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            inputs: {\r\n                ...this.state.inputs,\r\n                name: null, address: null, rating: null, type: null, picture: null\r\n            }\r\n        });\r\n    }\r\n\r\n    toBase64 = file => new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => resolve(reader.result);\r\n        reader.onerror = error => reject(error);\r\n    });\r\n\r\n    async handleSubmit(event) {\r\n        const base_string = await this.toBase64(this.state.inputs.picture);\r\n\r\n        const tourist_place = new TouristPlace(this.state.id, this.state.inputs.name,\r\n                                                this.state.inputs.address, this.state.inputs.rating,\r\n                                                this.state.inputs.type, base_string);\r\n\r\n        var new_list = this.state.touristPlace.concat(tourist_place);\r\n        this.setState({\r\n            ...this.state,\r\n            touristPlace: new_list,\r\n            id: this.state.id + 1\r\n        })\r\n\r\n        this.handleReset(this);\r\n    }\r\n\r\n    handleInputChange(event) {\r\n        let {id, value} = event.target;\r\n        if(id === 'picture') {\r\n            this.setState({\r\n                ...this.state,\r\n                inputs: {\r\n                    ...this.state.inputs,\r\n                    picture: event.target.files[0]\r\n                }\r\n            });\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            inputs: {\r\n                ...this.state.inputs,\r\n                [id]: value\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Router>\r\n                <Switch>\r\n                    <Route exact path='/'>\r\n                        <ListPage state={this.state} rowDeleteById={this.rowDeleteById} />\r\n                    </Route>\r\n                    <Route exact path='/create'>\r\n                        <CreatePage state={this.state} handleInputChange={this.handleInputChange} handleSubmit={this.handleSubmit} handleReset={this.handleReset} />\r\n                    </Route>\r\n                </Switch>\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TouristApp;"]},"metadata":{},"sourceType":"module"}